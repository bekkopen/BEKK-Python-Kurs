<!DOCTYPE html>
<html>
  <head>
    <title>Python-kurs, NTNU, 2012</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

    <script src="https://github.com/downloads/gnab/remark/remark-0.3.1.min.js" type="text/javascript">
      { "highlightStyle": "solarized_light" }
    </script>
    <script src="../lib/jquery-1.7.1.js" type="text/javascript"></script>
    <script src="../lib/bekk.js" type="text/javascript"></script>

    <link href='http://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>

    <link rel="stylesheet/less" type="text/css" href="../lib/bekk.less">
    <script src="http://lesscss.googlecode.com/files/less-1.1.5.min.js" type="text/javascript"></script>
  </head>
  <body>
    <textarea id="source">

.front-page

# Python-kurs

## Introduksjon + Idiomatisk python

Forelesning ved NTNU

Åsmund Eldhuset / Magnus Haug

xx/xx/2012

---

.agenda

# Agenda

* Grunnleggende Python
* List comprehension
* Generatorer og iteratorer (teori)
* Generator expressions
* Lambda-funskjoner
* Decorators

---

# List comprehension

List comprehensions er en konsis syntaks for å lage eller transformere lister.
Lar deg enkelt *iterere* over lister og *transformere* og *filtrere* elementene.

Eksempel: 
   
    >>> resultat = [-i for i in range(10) if i > 5]
    [-6, -7, -8, -9]
    
Itererer over `for i in range(10)`, filtrerer `if i > 5`, og transfomerer elementene til `-i`.

Uten list comprehensions ville dette sett ut som:

    resultat = []
    for i in range(10):
        if i > 5:
            resultat.append(-i)

---

# List comprehension

List comprehensions kan også iterere over flere lister samtidig:

### Eksempel

    >>> navn = ['Magnus', 'Kjetil']
    >>> hilsen = ['Hei', 'Hallo', 'HAI']
    >>> [h+' '+n for h in hilsen for n in navn] 
    ['Hei Magnus', 'Hei Kjetil', 'Hallo Magnus', 'Hallo Kjetil', 'HAI Magnus', 'HAI Kjetil']

---

# List comprehension

### Oppgaver

Gjør følgende ved hjelp av list comprehensions:

1. Lag en liste med 2er-potenser:  
   `[2, 4, 8, 16, 32, 64, 128, 256, 512, ...]`
2. Skriv ut gangetabellen for tallene fra 1 til 10.

---

# Generatorer og iteratorer

Gammeldags iterator

    >>> items = [1, 4, 5]
    >>> it = iter(items)
    >>> it.next()
    1
    >>> it.next()
    4
    >>> it.next()
    5
    >>> it.next()
    Traceback (most recent call last):
      File "<stdin>", line 1, in <module>
    StopIteration
    >>>

---

# Generatorer og iteratorer

Syntaktisk sukker

    >>> items = [1, 4, 5]
    >>> for i in items:
    ...     print i,
    ...
    1 4 5

---

# Generatorer og iteratorer

La oss implementere en iterator selv:

    class countdown(object):
        def __init__(self,start):
            self.count = start
        def __iter__(self):
            return self
        def next(self):
            if self.count <= 0:
                raise StopIteration
            r = self.count
            self.count -= 1
            return r

Og bruke den:

    >>> c = countdown(5)
    >>> for i in c:
    ...     print i,
    ...
    5 4 3 2 1

---

# Generatorer og iteratorer

Dette var mye styr, kan det gjøres enklere? Yep, med generatorer:

    def countdown(i):
        while i > 0:
            yield i
            i -= 1

Resultat:

    >>> for i in countdown(5):
    ...     print i,
    ...
    5 4 3 2 1

---

# Generatorer og iteratorer

### Hva er nytteverdien?

Uendelige lister, store datamengder:

    >>> from itertools import count
    >>> c = count()
    >>> c.next()
    0
    >>> c.next()
    1
    >>> c.next()
    2

Spørsmål: Hvordan holder man en uendelig liste i minne?!

---

# Generator expressions

List comprehensions kan automagisk skrives som en generator:

    >>> liste = [i for i in range(10)]
    >>> generator = (i for i in range(10))
    
    >>> print liste
    [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
    
    >>> print generator
    <generator object <genexpr> at 0x10ff3e410>
    
    >>> for i in liste:
    ...   print i,
    ... 
    0 1 2 3 4 5 6 7 8 9
    
    >>> for i in liste:
    ...   print i,
    ... 
    0 1 2 3 4 5 6 7 8 9
    
    >>> for i in generator:
    ...   print i,
    ... 
    0 1 2 3 4 5 6 7 8 9
    
    >>> for i in generator:
    ...   print i,
    ... 

Hva skjedde her?

---

# Generator expressions

### Oppgaver:

1. Lag en list comprehension som lister opp alle partall under 20, og print dem

2. Lag et generator expression som gjør det samme. Print dem.

3. Lag et generator expression som lister opp ALLE partall.

4. Print de første 20 av dem, f.eks. slik:  
    `print [alle_partall.next() for i in xrange(20)]`

---

# Lambda-funksjoner

Lambdaer er én-linjes funksjoner uten navn:

Vanlig funksjon:

    >>> def funksjonen_min(num):
    ...     return num*2

    >>> funksjonen_min(3)
    6

Lambda:

    >>> lambdaen_min = lambda num: num*2
    >>> lambdaen_min(3)
    6

---

# Lambda-funksjoner

Og lambdaer kan også sendes inn som argumenter til andre funksjoner.

    .python
    >>> def double( num ):
    ...     return num * 2
    ... 

    >>> map(double, range(10))
    [0, 2, 4, 6, 8, 10, 12, 14, 16, 18]

Dette blir ofte mer konsist med en lambda:

    .python
    >>> map (lambda num : num * 2, range(10))
    [0, 2, 4, 6, 8, 10, 12, 14, 16, 18]

Akkurat dette tilfellet blir kanskje vel så pent med en list comprehension:

    .python
    >>> [num * 2 for num in range(10)]
    [0, 2, 4, 6, 8, 10, 12, 14, 16, 18]

---

# Decorators

---

.middle.center

# Spørsmål?

Kom og jobb hos [oss i BEKK](http://www.bekk.no/jobb/stillinger/)

    </textarea>
    <div id="slideshow"></div>
  </body>
</html>
